<script id="ajax-cart-drawer-json" type="application/json">
  {{ cart | json }}
</script>

<section
  id="cart-drawer"
  data-section-id="{{ section.id }}"
  class="fixed w-full h-full max-w-[480px] top-0 right-0 z-[40] overflow-hidden"
  x-transition:enter="transition-all ease-out duration-300"
  x-transition:enter-start="!-right-full"
  x-transition:enter-end="right-0"
  x-transition:leave="transition-all ease-in duration-300"
  x-transition:leave-start="right-0"
  x-transition:leave-end="!-right-full"
  role="dialog"
  aria-label="Cart Drawer"
  aria-modal="true"
  x-data="{}"
  :aria-hidden="!$store.cart.drawerIsOpen"
  x-show="$store.cart.drawerIsOpen"
  x-trap="$store.cart.drawerIsOpen"
  style="display: none;"
>
  <div class="flex flex-col h-full gradient color-{{ settings.cart_color_scheme }}">
    {%- render 'cart-drawer-header' -%}

    <div
      id="cart-drawer-items"
      class="w-full px-2 xs:px-4 md:px-5 flex-1 overflow-y-auto"
    >
      {%- if cart.empty? -%}
        {%- render 'cart-drawer-empty' -%}
      {%- else -%}
        {%- render 'cart-drawer-items' -%}
      {%- endif -%}
    </div>

    {%- render 'cart-drawer-footer' -%}
  </div>
</section>

<div class="cart-drawer-overlay"></div>

{% schema %}
{
  "name": "Cart Drawer",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "My Cart"
    }
  ]
}
{% endschema %}
