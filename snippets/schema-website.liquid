{%- assign potential_action_target = request.origin | append: routes.search_url | append: '?q={search_term_string}' -%}
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": {{ shop.name | json }},
    "potentialAction": {
      "@type": "SearchAction",
      "target": {{ potential_action_target | json }},
      "query-input": "required name=search_term_string"
    },
    "url": {{ request.origin | append: page.url | json }}
  }
</script>
